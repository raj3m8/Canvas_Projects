<!--
	Project:	Just learning the html5 canvas feature
				Little demo project creating a multiple spheres
				Messing around with 'kinetic' canvas framework
	Date: 		July 27, 2013
	Author:  	Ryan Jarvis
-->

<html>
	<head>
		<link rel="stylesheet" type="text/css" href="../styles.css">

		<script src="http://www.html5canvastutorials.com/libraries/kinetic-v4.5.4-beta.js"></script>
		<script type="text/javascript" src="../jquery.min.js"></script>
		<!-- all the css styles -->
		<style>
			.main_container {
				width: 594px; 
				float: left;
			}
			.options_container {
				float: left;
				margin: 60px 30px;
				font-size: 22px;
				color: #999999;
			}
			#num_spheres {
				width: 60px;
			}
		</style>
	</head>
	<body onload="init()">
		<div class='main_container'>
			<!-- Everything will be done inside this canvas -->
			<div id="myCanvas"></div>
		</div>	
		<div class='options_container'>
			Spheres <input type="texts" value="100" id="num_spheres" maxlength="4"/><br><br>
			<a class='btn-green' id='refresh_btn'>Refresh</a>
		</div>

		<!-- The main script -->
		<script>
			$('#refresh_btn').click(function() {
				init();
			})

			function init() {
				var stage = new Kinetic.Stage({
					container: 'myCanvas',
					width: 578,
					height: 200
				});

				var layer = new Kinetic.Layer();
				num_spheres = $('#num_spheres').val()
				if (num_spheres > 2500)
					num_spheres = 2500;

				for (var x = 0; x < num_spheres; x++) {
					var circle = new Kinetic.Circle({
						x: rand(0, 578),
						y: rand(0,200),
						radius: rand(5,25),
						fill: rand_color(),
						stroke: 'black',
						strokeWidth: rand(2, 4),
					});

					layer.add(circle);
				}
				
				stage.add(layer);
			}
			
			function rand(x, y) {
				return Math.floor((Math.random()*y)+x)
			}

			function rand_color() {
				var letters = '0123456789ABCDEF'.split('');
				var color = '#';
				for (var i = 0; i < 6; i++ ) {
				    color += letters[Math.round(Math.random() * 15)];
				}
				return color;
			}




		</script>
	</body>
</html>